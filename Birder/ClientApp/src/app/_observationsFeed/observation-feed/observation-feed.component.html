<div class="container">
  <h3>Your observations feed</h3>

  <hr>

  <div class="row">
    <div class="col">
      <div>
        <a class="btn btn-success" [routerLink]='["/observation-add"]'>Add Observation</a>
      </div>
    </div>
    <div class="text-right">
      <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic" [(ngModel)]="currentFilter"
        (change)="onFilterFeed()">
        <label ngbButtonLabel class="btn-primary">
          <input ngbButton type="radio" [value]="0">Your Network
        </label>
        <label ngbButtonLabel class="btn-primary">
          <input ngbButton type="radio" [value]="1">Your Own
        </label>
        <label ngbButtonLabel class="btn-primary">
          <input ngbButton type="radio" [value]="2">Public
        </label>
      </div>
    </div>
  </div>

  <hr>

  <div *ngIf="itemResults$ | async as results; else loading">
    <ng-container *ngIf="results.length; else noItems">
      <!-- <div *ngFor="let observation of results" [style.height]="itemHeight + 'px'"> -->
      <div *ngFor="let observation of results" [style.height]="itemHeight + 'px'">

        <app-observations-feed-item [observation]="observation" [user]="user">

        </app-observations-feed-item>

      </div>
    </ng-container>
    <ng-template #noItems>No Items!</ng-template>
  </div>

  <ng-template #loading>
    <div class="loading">
      <p><em>Loading your feed...</em></p>
      <mat-spinner></mat-spinner>
    </div>
  </ng-template>

  <div class="feedEndAlert">
    <p *ngIf="allLoaded">
      <ngb-alert [dismissible]="false">
        <strong><i>Information </i></strong> There are no more items to load...
      </ngb-alert>
    </p>
  </div>

</div>

