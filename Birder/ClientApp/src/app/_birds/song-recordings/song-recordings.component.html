<div class="container">
    <div *ngIf="!recordings && !error" class="loading">
        <p><em>Loading...</em></p>
        <mat-spinner></mat-spinner>
    </div>

    <div *ngIf="recordings">
        <ng-container *ngIf="recordings.length; else noItems">
            <h5>Bird song recordings</h5>

            <div
                *ngFor="let item of recordings | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">
                <div>
                    <audio controls>
                        <source src="{{item.url}}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            </div>

            <div class="small-italic">
                Total recordings: {{ recordings.length }}
            </div>

            <ngb-pagination [(page)]="page" [pageSize]="pageSize" [collectionSize]="recordings.length"
                class="d-flex justify-content-center" size="sm" [maxSize]="9" [rotate]="true" [boundaryLinks]="true">
            </ngb-pagination>

            <hr class="test">
            <div class="info"><small>The recordings are from <em><a href='https://www.xeno-canto.org/'
                            target='_blank'>xeno-canto.org</a></em></small></div>

        </ng-container>

        <ng-template #noItems>
            <ngb-alert [dismissible]="false" class="d-block mt-3" type="info">
                There are no recordings available for this species
            </ngb-alert>
        </ng-template>
    </div>

    <ng-container *ngIf="error">
        <ngb-alert [dismissible]="false" class="d-block mt-3" type="danger">
            There was an error getting the recordings.  Please try again later.
        </ngb-alert>
    </ng-container>

</div>
